<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="Member-Mapper">

<insert id="insertMember" parameterType="member" 
useGeneratedKeys="true" keyProperty="member_id">
    insert into members(email, pwd, name, phone, role, status)
    values(#{email}, #{pwd}, #{name}, #{phone}, #{role}, #{status}) 
</insert>

<insert id="insertInstructor" parameterType="instructor"> 
    insert into instructors (instructor_id, resume, pending_status)
    values (#{instructor_id}, #{resume}, #{pending_status} ) 
</insert>

<update id="updateMember" parameterType="member">
    update members 
    set pwd=#{pwd}
    where member_id = #{member_id}
</update>

<update id="withdrawMember" parameterType="member">
     update members 
     set status = 'WITHDRAW' 
     WHERE member_id = #{member_id} 
    </update>

<select id="selectMemberByEmail" resultType="member" parameterType="str">
    select * 
    from members
    where email = #{email}
</select>

</mapper>